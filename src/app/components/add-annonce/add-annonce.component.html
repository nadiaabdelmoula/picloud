<div class="container-fluid" >
<div class="title-box-d section-t4">
  <h3 class="title-d">Create Property </h3>
</div>

<form *ngIf="!isSuccessful" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm">

    <div class="form-group">
        <label> Titre</label>
        <input type="text" class="form-control" id="titre"
        [(ngModel)]="annonce.titre" name="titre">
        

    </div>
   
      
   

    <div class="form-group">
    <section>
          <label> Type d'annonce </label>
          <select class="custom-select" [(ngModel)]="annonce.typeAnnonce"[ngModelOptions]="{standalone:true}">
            <option value="Achat">Achat</option>
            <option value="Location">Location</option>
          </select>
     
    </section>
  </div>

    <div class="form-group">
        <label> Description</label>
        <input type="text" class="form-control" id="description"
        [(ngModel)]="annonce.description" name="description">

    </div>
    <div class="form-group">
        <label> Localisation</label>
        <input type="text" class="form-control" id="localisation"
        [(ngModel)]="annonce.localisation" name="localisation">

    </div>

    <div class="form-group">
        <label> Prix</label>
        <input type="text" class="form-control" id="prix"
        [(ngModel)]="annonce.prix" name="prix">

    </div>

  
    <div class="form-group">
        <label> Nombre de Chambres</label>
        <input type="text" class="form-control" id="nbchambre"
        [(ngModel)]="annonce.nbchambre" name="nbchambre">

    </div>

    

    <div class="form-group">
        <label> Surface</label>
        <input type="text" class="form-control" id="surface"
        [(ngModel)]="annonce.surface" name="surface">

    </div>
    <!--start upload image !! -->
  <div>

    <div *ngFor="let progressInfo of progressInfos" class="mb-2">
        <span>{{ progressInfo.fileName }}</span>
        <div class="progress">
          <div
            class="progress-bar progress-bar-info progress-bar-striped"
            role="progressbar"
            attr.aria-valuenow="{{ progressInfo.value }}"
            aria-valuemin="0"
            aria-valuemax="100"
            [ngStyle]="{ width: progressInfo.value + '%' }"
          >
            {{ progressInfo.value }}%
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-8">
          <label class="btn btn-default p-0">
            <input type="file" accept="image/*" multiple (change)="selectFiles($event)" />
          </label>
        </div>
      
      
      </div>
      
      <div>
        <img style="width: 20%; height: 20%;" *ngFor='let preview of previews' [src]="preview" class="preview">
      </div>
      
      <div *ngIf="message.length" class="alert alert-secondary my-3" role="alert">
        <ul *ngFor="let msg of message; let i = index">
          <li>{{ msg }}</li>
        </ul>
      </div>
  
    
  </div>
  <!--end upload image !!!! -->
    
    <div class="modal-footer" >  
      <button class="btn btn-success" type="submit">Submit</button>
    </div>  

    
 

</form>
<div class="alert alert-success" *ngIf="isSuccessful">
  Your registration is successful! <a (click)="GoLogin()" > Consulter les annonces</a>
</div>
</div>